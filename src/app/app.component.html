<div class="container mt-5">
  <h2>Angular Display Data from Json File Example</h2>

  <!-- "Cast Filters" -->
  <app-filter-component
    ng-attr-id="castTable"
    [FilterItems]="CastFilterItems"
    (filtersChanged)="onCastFiltersChanged($event)"
  ></app-filter-component>

  <!-- "Release Year Filters" -->
  <app-filter-component
    [FilterItems]="ReleaseYearFilterItems"
    (filtersChanged)="onReleaseYearsFiltersChanged($event)"
  ></app-filter-component>

  <!-- "Director Filters" -->
  <app-filter-component
    [FilterItems]="DirectorFilterItems"
    (filtersChanged)="onDirectorFiltersChanged($event)"
  ></app-filter-component>

  <!-- "Genres Filters" -->
  <app-filter-component
    [FilterItems]="GenreFilterItems"
    (filtersChanged)="onGenresFiltersChanged($event)"
  ></app-filter-component>

  <select #filterNumber mat-select name="filterNumber" id="filterNumber">
    <option value="5" selected>5</option>
    <option value="10">10</option>
    <option value="15">15</option>
    <option value="20">20</option>
    <option value="25">25</option>
    <option value="30">30</option>
  </select>

  <button mat-raised-button (click)="doFiltering()">Apply Filters</button>

  <table #resultsTable mat-table [dataSource]="sortedMovies">
    <ng-container matColumnDef="title">
      <th mat-header-cell *matHeaderCellDef>Title</th>
      <td mat-cell *matCellDef="let movie">
        <a
          href="https://www.imdb.com/title/{{ movie.id }}/"
          target="_blank"
          matTooltip="{{ movie.short_summary }}"
          >{{ movie.title }}</a
        >
      </td>
    </ng-container>
    <ng-container matColumnDef="popularity">
      <th mat-header-cell *matHeaderCellDef>Popularity</th>
      <td mat-cell *matCellDef="let movie">{{ movie.popularity }}</td>
    </ng-container>
    <ng-container matColumnDef="budget">
      <th mat-header-cell *matHeaderCellDef>Budget</th>
      <td mat-cell *matCellDef="let movie">${{ movie.budget | number }}</td>
    </ng-container>
    <ng-container matColumnDef="revenue">
      <th mat-header-cell *matHeaderCellDef>Revenue</th>
      <td mat-cell *matCellDef="let movie">${{ movie.revenue | number }}</td>
    </ng-container>
    <ng-container matColumnDef="cast">
      <th mat-header-cell *matHeaderCellDef>Cast</th>
      <td mat-cell *matCellDef="let movie">{{ movie.cast }}</td>
    </ng-container>
    <ng-container matColumnDef="homepage">
      <th mat-header-cell *matHeaderCellDef>Homepage</th>
      <td mat-cell *matCellDef="let movie">
        <a href="{{ movie.homepage }}" target="_blank">{{ movie.homepage }}</a>
      </td>
    </ng-container>
    <ng-container matColumnDef="director">
      <th mat-header-cell *matHeaderCellDef>Director</th>
      <td mat-cell *matCellDef="let movie">{{ movie.director }}</td>
    </ng-container>
    <ng-container matColumnDef="genres">
      <th mat-header-cell *matHeaderCellDef>Genres</th>
      <td mat-cell *matCellDef="let movie">{{ movie.genres }}</td>
    </ng-container>
    <ng-container matColumnDef="production_companies">
      <th mat-header-cell *matHeaderCellDef>Production Companies</th>
      <td mat-cell *matCellDef="let movie">{{ movie.production_companies }}</td>
    </ng-container>
    <ng-container matColumnDef="release_year">
      <th mat-header-cell *matHeaderCellDef>Release Year</th>
      <td mat-cell *matCellDef="let movie">{{ movie.release_year }}</td>
    </ng-container>
    <ng-container matColumnDef="relevance">
      <th mat-header-cell *matHeaderCellDef>Relevance</th>
      <td mat-cell *matCellDef="let movie">{{ movie.relevance }}</td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayColumns"></tr>
  </table>
</div>
